    <div class="col-md-8 mx-auto">
        <span class="anchor" id="formLogin"></span>
        <div class="card shadow" >
            <div class="card-body " >
                <h4 class="card-title mb-4 mt-1">Registro de contrato</h4>
                <hr/>                    
                <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                        <a class="nav-item nav-link active" id="nav-credor-tab" data-toggle="tab" href="#nav-credor" [ngClass]="{'active':_activeTab==='nav-credor'}" (click)="nextTab('nav-credor')" role="tab" aria-controls="nav-credor" aria-selected="true">Credor</a>
                        <a class="nav-item nav-link" id="nav-veiculo-tab" data-toggle="tab" href="#nav-veiculo" [ngClass]="{'active':_activeTab==='nav-veiculo'}" (click)="nextTab('nav-veiculo')" role="tab" aria-controls="nav-veiculo" aria-selected="false">Veículo</a>
                        <a class="nav-item nav-link" id="nav-devedor-tab" data-toggle="tab" href="#nav-devedor" [ngClass]="{'active':_activeTab==='nav-devedor'}" (click)="nextTab('nav-devedor')" role="tab" aria-controls="nav-devedor" aria-selected="false">Devedor</a>
                        <a class="nav-item nav-link" id="nav-garantidor-tab" data-toggle="tab" href="#nav-garantidor" [ngClass]="{'active':_activeTab==='nav-garantidor'}" (click)="nextTab('nav-garantidor')" role="tab" aria-controls="nav-garantidor" aria-selected="false">Garantidor</a>
                        <a class="nav-item nav-link" id="nav-documento-tab" data-toggle="tab" href="#nav-documento" [ngClass]="{'active':_activeTab==='nav-documento'}" (click)="nextTab('nav-documento')" role="tab" aria-controls="nav-documento" aria-selected="false">Documentos</a>
                        <a class="nav-item nav-link" id="nav-contrato-tab" data-toggle="tab" href="#nav-contrato" [ngClass]="{'active':_activeTab==='nav-contrato'}" (click)="nextTab('nav-contrato')" role="tab" aria-controls="nav-contrato" aria-selected="false">Contrato</a>
                    </div>
                </nav>
                
                <div class="tab-content" id="nav-tabContent">
                    <div [ngClass]="{'show active':_activeTab==='nav-credor'}" class="tab-pane fade" id="nav-credor" role="tabpanel" aria-labelledby="nav-credor-tab"> <br>
                        <form class="form" #entitiesForm="ngForm">
                            <div class="form-group">                                        
                                <div class="col">
                                    <label for="uname1">Detran</label>
                                </div>                                    
                                <div class="col" *ngIf="!_detransLoad">                                        
                                    <select class="custom-select" #detran="ngModel" [class.is-invalid]="detransHasError && detran.touched"
                                        name="detran" [(ngModel)]="contractData.detran" (change)="validateDetrans(detran.value)" (blur)="validateDetrans(detran.value)">                            
                                        <option value="default">--Escolha um Detran</option>
                                        <option *ngFor="let detran of _detrans">{{ detran.description}}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!detransHasError || detran.untouched">Escolha um Detran</small>
                                </div>                                    
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_detransLoad">
                                    <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                </div>   
                            </div>
                            <div class="form-group">
                                    <div class="col">
                                        <label for="uname1">Credora</label>
                                    </div>
                                    <div class="col" *ngIf="!_creditorsLoad">
                                        <select class="custom-select" #creditor="ngModel" [class.is-invalid]="creditorsHasError && creditor.touched"
                                        name="creditor" [(ngModel)]="contractData.creditor" (change)="validateCreditors(creditor.value)" (blur)="validateCreditors(creditor.value)">                            
                                            <option value="default">--Escolha uma credora</option>
                                            <option *ngFor="let creditor of _creditors">{{ creditor.description }}</option>
                                        </select>
                                        <small class="text-danger" [class.d-none]="!creditorsHasError || creditor.untouched">Escolha uma credora</small>
                                    </div>           
                                    
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_creditorsLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>      
                            </div>
                            <hr/>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-sm-6"> 
                                        <button class="btn btn-info btn-block" routerLink="/contratos">Cancelar</button>
                                    </div>
                                    <div class="col-sm-6">      
                                        <button type="submit" [ngClass]="{'active':_activeTab==='nav-contrato'}" (click)="nextTab('nav-veiculo')" class="btn btn-rainti btn-block"> Próximo </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div [ngClass]="{'show active':_activeTab==='nav-veiculo'}" class="tab-pane fade" id="nav-veiculo" role="tabpanel" aria-labelledby="nav-veiculo-tab"><br>
                        <form class="form" #vehicleForm="ngForm">
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Chassi</label>
                                    <input type="text" [(ngModel)]="contractData.chassi" name="chassi"  class="form-control rounded-0" 
                                    pattern="^([A-HJ-NPR-Za-hj-npr-z\d]{13})\d{4}$" 
                                    [class.is-invalid]="chassi.invalid && chassi.touched" #chassi="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="chassi.valid || chassi.untouched">
                                        <small  class="text-danger"*ngIf="chassi.errors && chassi.errors.required">
                                            Chassi obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="chassi.errors && chassi.errors.pattern">
                                            Chassi inválido (Formato: AAAAAAAAAAAAANNNN)
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Confirme o chassi</label>
                                    <input type="text" [(ngModel)]="contractData.chassiConfirmation" name="chassiConfirmation" class="form-control rounded-0" 
                                    pattern="^([A-HJ-NPR-Za-hj-npr-z\d]{13})\d{4}$" 
                                    [class.is-invalid]="chassiConfirmation.invalid && chassiConfirmation.touched" #chassiConfirmation="ngModel" 
                                    appConfirmEqualValidator="chassi"required >
                                    <div class="md-errors-spacer" [hidden]="chassiConfirmation.valid || chassiConfirmation.untouched">
                                        <small  class="text-danger"*ngIf="chassiConfirmation.errors && chassiConfirmation.errors.required">
                                            confirmação de chassi obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="chassiConfirmation.errors && chassiConfirmation.errors.pattern">
                                            Chassi inválido (Formato: AAAAAAAAAAAAANNNN)
                                        </small>
                                    </div>
                                    <div class="md-errors-spacer" [hidden]="chassiConfirmation.valid || chassiConfirmation.untouched">
                                        <small  class="text-danger"*ngIf="chassiConfirmation.errors && chassiConfirmation.errors?.notEqual">
                                            confirmação de chassi incorreto
                                        </small>
                                    </div>
                                </div>  
                            </div>                            
                            <div class="row">   
                                <div class="form-group col-sm-6" > 
                                    <label for="uname1 ">Chassi Remarcado</label> <br>                                                                               
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" id="customRadioInlinechassi1" name="customRadioInlinechassi" class="custom-control-input" (click)="chassiSelect('NÃO')" checked>
                                        <label class="custom-control-label" for="customRadioInlinechassi1">Não</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" id="customRadioInlinechassi2" name="customRadioInlinechassi" class="custom-control-input" (click)="chassiSelect('SIM')">
                                        <label class="custom-control-label" for="customRadioInlinechassi2">Sim</label>
                                    </div>   
                                </div>                               
                                <div class="form-group col-sm-3">
                                    <label for="uname1">Placa </label>
                                    <input type="text" [(ngModel)]="contractData.plate" name="plate"  class="form-control rounded-0" 
                                    [class.is-invalid]="plate.invalid && plate.touched" #plate="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="plate.valid || plate.untouched">
                                        <small  class="text-danger"*ngIf="plate.errors && plate.errors.required">
                                            Placa obrigatória
                                        </small>
                                    </div>   
                                </div>
                                <div class="form-group col-sm-3">
                                    <label for="uname1">UF da placa</label><br>
                                    <div *ngIf="_statesLoad">
                                        <span  role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #plateState="ngModel" [class.is-invalid]="plateStatesHasError && plateState.touched"
                                        name="plateState" [(ngModel)]="contractData.plateState" (change)="validatePlateStates(plateState.value)" (blur)="validatePlateStates(plateState.value, plateState)">                            
                                        <option value="default">--Escolha uma UF</option>
                                        <option *ngFor="let state of _plateStates">{{ state.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!plateStatesHasError || plateState.untouched">Escolha uma UF</small>
                                </div>    
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Renavan</label>
                                    <input type="text" [(ngModel)]="contractData.renavam" name="renavam"  class="form-control rounded-0" 
                                    [class.is-invalid]="renavam.invalid && renavam.touched" #renavam="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="renavam.valid || renavam.untouched">
                                        <small  class="text-danger"*ngIf="renavam.errors && renavam.errors.required">
                                            Renavan obrigatório
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">UF Licenciamento</label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_statesLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #licensingState="ngModel" [class.is-invalid]="licensingStatesHasError && licensingState.touched"
                                        name="licensingState" [(ngModel)]="contractData.licensingState" (change)="validateLicensingStates(licensingState.value)" (blur)="validateLicensingStates(licensingState.value, licensingState)">                            
                                        <option value="default">--Escolha uma UF</option>
                                        <option *ngFor="let state of _licensingStates">{{ state.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!licensingStatesHasError || licensingState.untouched">Escolha uma UF</small>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Espécie</label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_speciesLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #specie="ngModel" [class.is-invalid]="speciesHasError && specie.touched"
                                        name="specie" [(ngModel)]="contractData.specie" (change)="validateSpecies(specie.value)" (blur)="validateSpecies(specie.value)">                            
                                        <option value="default">--Escolha uma espécie</option>
                                        <option *ngFor="let specie of _species">{{ specie.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!speciesHasError || specie.untouched">Escolha uma espécie</small>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Ano de Fabricação</label> <br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_yearsLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #fabricationYear="ngModel" [class.is-invalid]="fabricationYearsHasError && fabricationYear.touched"
                                        name="fabricationYear" [(ngModel)]="contractData.fabricationYear" (change)="validateFabricationYears(fabricationYear.value)" (blur)="validateFabricationYears(fabricationYear.value)">                            
                                        <option value="default">--Escolha um Ano</option>
                                        <option *ngFor="let year of _fabricationYears">{{ year.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!fabricationYearsHasError || fabricationYear.untouched">Escolha um Ano</small>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Marca </label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_brandsLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #brand="ngModel" [class.is-invalid]="brandsHasError && brand.touched"
                                        name="brand" [(ngModel)]="contractData.brand" (change)="validateBrands($event, brand.value)" (blur)="validateBrands($event, brand.value)">                            
                                        <option value="default">--Escolha uma marca  </option>
                                        <option *ngFor="let brand of _brands" >{{ brand.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!brandsHasError || brand.untouched">Escolha uma marca </small>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Modelo  </label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_modelsLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                        <select class="custom-select" #model="ngModel" [class.is-invalid]="modelsHasError && model.touched"
                                        name="model" [(ngModel)]="contractData.model" (change)="validateModels($event, model.value)" (blur)="validateModels($event, model.value)">                            
                                        <option value="default">--Escolha um modelo  </option>
                                        <option *ngFor="let model of _models">{{ model.description}}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!modelsHasError || model.untouched">Escolha um modelo </small>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Ano do modelo</label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_modelYearsLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #modelYear="ngModel" [class.is-invalid]="modelYearsHasError && modelYear.touched"
                                        name="modelYear" [(ngModel)]="contractData.modelYear" (change)="validateModelYears(modelYear.value, $event)" (blur)="validateModelYears(modelYear.value, modelYear)">                            
                                        <option value="default">--Escolha um Ano</option>
                                        <option *ngFor="let year of _modelYears">{{ year.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!modelYearsHasError || modelYear.untouched">Escolha um Ano</small>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Cor</label>
                                    <input type="text" [(ngModel)]="contractData.color" name="color"  class="form-control rounded-0" 
                                    [class.is-invalid]="color.invalid && color.touched" #color="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="color.valid || color.untouched">
                                        <small  class="text-danger"*ngIf="color.errors && color.errors.required">
                                            Cor obrigatório
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <button type="submit" [ngClass]="{'active':_activeTab==='nav-veiculo'}" (click)="nextTab('nav-credor')" class="btn btn-info btn-block" >Anterior</button>
                                </div>
                                <div class="col-sm-6">      
                                    <button type="submit" [ngClass]="{'active':_activeTab==='nav-veiculo'}" (click)="nextTab('nav-devedor')" class="btn btn-rainti btn-block" >Próximo </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div [ngClass]="{'show active':_activeTab==='nav-devedor'}" class="tab-pane fade" id="nav-devedor" role="tabpanel" aria-labelledby="nav-devedor-tab"><br>
                        <form class="form" #buyerForm="ngForm">
                            <div class="row">
                                <div class="form-group col-xl">
                                    <label for="uname1">Nome completo</label>
                                    <input type="text" [(ngModel)]="contractData.buyerName" name="buyerName"  class="form-control rounded-0" 
                                    [class.is-invalid]="buyerName.invalid && buyerName.touched" #buyerName="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerName.valid || buyerName.untouched">
                                        <small  class="text-danger"*ngIf="buyerName.errors && buyerName.errors.required">
                                            Nome completo obrigatório
                                        </small>
                                    </div>
                                </div>
                            </div> 
                            <div class="row">       
                                <div class="form-group col-sm-6">
                                    <label for="uname1">E-mail</label>
                                    <input #buyerEmail="ngModel" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" type="text" 
                                    [(ngModel)]="contractData.buyerEmail" name="buyerEmail" class="form-control rounded-0" 
                                    [class.is-invalid]="buyerEmail.invalid && buyerEmail.touched" required>
                                    <div class="md-errors-spacer" [hidden]="buyerEmail.valid || buyerEmail.untouched">
                                        <small  class="text-danger"*ngIf="buyerEmail.errors && buyerEmail.errors.required">
                                            e-mail obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="buyerEmail.errors && buyerEmail.errors.pattern">
                                            e-mail inválido
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-6 d-inline-block"> 
                                    <div class=" p-1 text-center">                                
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="customRadioInlinebuyer1" name="customRadioInlinebuyer" class="custom-control-input" (click)="cpfCnpjSelect('buyer', 'cpf')"checked>
                                            <label class="custom-control-label" for="customRadioInlinebuyer1">CPF</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="customRadioInlinebuyer2" name="customRadioInlinebuyer" class="custom-control-input" (click)="cpfCnpjSelect('buyer', 'cnpj')">
                                            <label class="custom-control-label" for="customRadioInlinebuyer2">CNPJ</label>
                                        </div>                        
                                    </div>     
                                    <div *ngIf="_buyerType=='cpf'" >
                                        <input Value="text" [(ngModel)]="contractData.buyerValue" name="buyerValue" class="form-control rounded-0" 
                                        pattern="^\d{3}\.\d{3}\.\d{3}\-\d{2}$" cpf [textMask]="{mask: MASKS.cpf.textMask}"
                                        [class.is-invalid]="buyerValue.invalid && buyerValue.touched" #buyerValue="ngModel" required >
                                        <div class="md-errors-spacer" [hidden]="buyerValue.valid || buyerValue.untouched">
                                            <small  class="text-danger"*ngIf="buyerValue.errors && buyerValue.errors.required">
                                                CPF obrigatório 
                                            </small>
                                            <small  class="text-danger" *ngIf="buyerValue.errors && buyerValue.errors.pattern">
                                                CPF inválido (Ex.: 123.123.123-12)
                                            </small>
                                        </div>
                                    </div>
                                    <div *ngIf="_buyerType=='cnpj'" >
                                        <input type="text" [(ngModel)]="contractData.buyerValue" name="buyerValue" class="form-control rounded-0" 
                                        pattern="^\d{2}\.\d{3}\.\d{3}\/\d{4}(-\d{2})$"
                                        [class.is-invalid]="buyerValue.invalid && buyerValue.touched" #buyerValue="ngModel" required cnpj [textMask]="{mask: MASKS.cnpj.textMask}" >
                                        <div class="md-errors-spacer" [hidden]="buyerValue.valid || buyerValue.untouched">
                                            <small  class="text-danger"*ngIf="buyerValue.errors && buyerValue.errors.required">
                                                CNPJ obrigatório 
                                            </small>
                                            <small  class="text-danger" *ngIf="buyerValue.errors && buyerValue.errors.pattern">
                                                CNPJ inválido (Ex.: 12.123.123/0001-12)
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-2">
                                    <label for="uname1">DDD</label>
                                    <input type="text" pattern="^([1-9]{2})"
                                    placeHolder="11"
                                    [(ngModel)]="contractData.buyerDddPhone" name="buyerDddPhone" class="form-control rounded-0" 
                                    [class.is-invalid]="buyerDddPhone.invalid && buyerDddPhone.touched" #buyerDddPhone="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerDddPhone.valid || buyerDddPhone.untouched">
                                        <small  class="text-danger"*ngIf="buyerDddPhone.errors && buyerDddPhone.errors.required">
                                            DDD obrigatório
                                        </small>
                                        <small  class="text-danger"*ngIf="(buyerDddPhone.errors && buyerDddPhone.errors.pattern) || ddHasError">
                                            DDD inválido
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-4">
                                    <label for="uname1">Telefone</label>
                                    <input type="text" pattern="^([1-9]{1}[0-9]{3}|[1-9]{1}[0-9]{4})(-)([0-9]{4})"
                                    placeHolder="1234-5678 ou 12345-6789"
                                    [(ngModel)]="contractData.buyerPhone" name="buyerPhone" class="form-control rounded-0" 
                                    [class.is-invalid]="buyerPhone.invalid && buyerPhone.touched" #buyerPhone="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerPhone.valid || buyerPhone.untouched">
                                        <small  class="text-danger"*ngIf="buyerPhone.errors && buyerPhone.errors.required">
                                            Telefone obrigatório
                                        </small>
                                        <small  class="text-danger"*ngIf="buyerPhone.errors && buyerPhone.errors.pattern">
                                            Formato inválido (Ex.: 1234-5678 ou 12345-6789) 
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-2">
                                    <label for="uname1">DDD</label>
                                    <input type="text" pattern="^([1-9]{2})"
                                    placeHolder="11"
                                    [(ngModel)]="contractData.buyerDddMobile" name="buyerDddMobile" class="form-control rounded-0" 
                                    [class.is-invalid]="buyerDddMobile.invalid && buyerDddMobile.touched" #buyerDddMobile="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerDddMobile.valid || buyerDddMobile.untouched">
                                        <small  class="text-danger"*ngIf="buyerDddMobile.errors && buyerDddMobile.errors.required">
                                            DDD obrigatório
                                        </small>
                                        <small  class="text-danger"*ngIf="(buyerDddMobile.errors && buyerDddMobile.errors.pattern) || ddHasError">
                                            DDD inválido
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-4">   
                                    <label for="uname1">Celular</label>
                                    <input type="text" pattern="^([1-9]{1}[0-9]{3}|[1-9]{1}[0-9]{4})(-)([0-9]{4})"
                                    placeHolder="1234-5678 ou 12345-6789"
                                    [(ngModel)]="contractData.buyerMobile" name="buyerMobile" class="form-control rounded-0" 
                                    [class.is-invalid]="buyerMobile.invalid && buyerMobile.touched" #buyerMobile="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerMobile.valid || buyerMobile.untouched">
                                        <small  class="text-danger"*ngIf="buyerMobile.errors && buyerMobile.errors.required">
                                            Celular obrigatório
                                        </small>
                                        <small  class="text-danger"*ngIf="buyerMobile.errors && buyerMobile.errors.pattern">
                                            Formato inválido (Ex.: 1234-5678 ou 12345-6789) 
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Cep</label>
                                    <input type="text" [(ngModel)]="contractData.buyerZipCode" name="buyerZipCode"  class="form-control rounded-0"  
                                    [class.is-invalid]="buyerZipCode.invalid && buyerZipCode.touched" #buyerZipCode="ngModel" cep [textMask]="{mask: MASKS.cep.textMask}" required >
                                    <div class="md-errors-spacer" [hidden]="buyerZipCode.valid || buyerZipCode.untouched">
                                        <small  class="text-danger"*ngIf="buyerZipCode.errors && buyerZipCode.errors.required">
                                            Cep obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="buyerZipCode.errors && buyerZipCode.errors">
                                            Cep inválido (Ex.: 12.345-678)
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Estado</label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_statesLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #buyerState="ngModel" [class.is-invalid]="buyerStatesHasError && buyerState.touched" 
                                    name="buyerState" [(ngModel)]="contractData.buyerState" (change)="validateBuyerStates(buyerState.value)" (blur)="validateBuyerStates(buyerState.value)">                            
                                        <option value="default">--Escolha um Estado</option>
                                        <option *ngFor="let state of _buyerStates">{{ state.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!buyerStatesHasError || buyerState.untouched">Escolha um Estado</small>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Município</label>
                                    <input type="text" [(ngModel)]="contractData.buyerCounty" name="buyerCounty"  class="form-control rounded-0" 
                                    [class.is-invalid]="buyerCounty.invalid && buyerCounty.touched" #buyerCounty="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerCounty.valid || buyerCounty.untouched">
                                        <small  class="text-danger"*ngIf="buyerCounty.errors && buyerCounty.errors.required">
                                            Município obrigatório
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Bairro</label>
                                    <input type="text" [(ngModel)]="contractData.buyerDistrict" name="buyerDistrict"  class="form-control rounded-0" 
                                    [class.is-invalid]="buyerDistrict.invalid && buyerDistrict.touched" #buyerDistrict="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerDistrict.valid || buyerDistrict.untouched">
                                        <small  class="text-danger"*ngIf="buyerDistrict.errors && buyerDistrict.errors.required">
                                            Bairro obrigatório
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row"> 
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Logradouro</label>
                                    <input type="text" [(ngModel)]="contractData.buyerAddress" name="buyerAddress"  class="form-control rounded-0" 
                                    [class.is-invalid]="buyerAddress.invalid && buyerAddress.touched" #buyerAddress="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerAddress.valid || buyerAddress.untouched">
                                        <small  class="text-danger"*ngIf="buyerAddress.errors && buyerAddress.errors.required">
                                            Logradouro obrigatório
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-2">
                                    <label for="uname1">Número</label>
                                    <input type="text" [(ngModel)]="contractData.buyerStreetnumber" name="buyerStreetnumber"  class="form-control rounded-0" 
                                    [class.is-invalid]="buyerStreetnumber.invalid && buyerStreetnumber.touched" #buyerStreetnumber="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerStreetnumber.valid || buyerStreetnumber.untouched">
                                        <small  class="text-danger"*ngIf="buyerStreetnumber.errors && buyerStreetnumber.errors.required">
                                            Número da residência obrigatório
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <label for="uname1">Complemento</label>
                                    <input type="text" [(ngModel)]="contractData.buyerAddresscomplement" name="buyerAddresscomplement"  class="form-control rounded-0" 
                                    [class.is-invalid]="buyerAddresscomplement.invalid && buyerAddresscomplement.touched" #buyerAddresscomplement="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="buyerAddresscomplement.valid || buyerAddresscomplement.untouched">
                                        <small  class="text-danger"*ngIf="buyerAddresscomplement.errors && buyerAddresscomplement.errors.required">
                                            Complemento obrigatório
                                        </small>
                                    </div>
                                </div> 
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <button type="submit" [ngClass]="{'active':_activeTab==='nav-devedor'}" (click)="nextTab('nav-veiculo')" class="btn btn-info btn-block" >Anterior</button>
                                </div>
                                <div class="col-sm-6">      
                                    <button type="submit" [ngClass]="{'active':_activeTab==='nav-devedor'}" (click)="nextTab('nav-garantidor')" class="btn btn-rainti btn-block" >Próximo </button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div [ngClass]="{'show active':_activeTab==='nav-garantidor'}" class="tab-pane fade " id="nav-garantidor" role="tabpanel" aria-labelledby="nav-garantidor-tab"><br>
                        <form class="form" #guarantorForm="ngForm">
                            <div class="form-group col-xl">
                                <div class="row">
                                    <label for="uname1">Nome do Garantidor</label>
                                    <input type="text" [(ngModel)]="contractData.guarantor" name="guarantor"  class="form-control rounded-0" 
                                    [class.is-invalid]="guarantor.invalid && guarantor.touched" #guarantor="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="guarantor.valid || guarantor.untouched">
                                        <small  class="text-danger"*ngIf="guarantor.errors && guarantor.errors.required">
                                            Nome do garantidor obrigatório
                                        </small>
                                    </div>
                                </div>
                            </div>         
                            <div class="row">
                                <div class="form-group col-sm-6" >                                                                                  
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" id="customRadioInlineguarantor1" name="customRadioInlineguarantor" class="custom-control-input" (click)="cpfCnpjSelect('guarantor', 'cpf')" checked>
                                        <label class="custom-control-label" for="customRadioInlineguarantor1">CPF</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" id="customRadioInlineguarantor2" name="customRadioInlineguarantor" class="custom-control-input" (click)="cpfCnpjSelect('guarantor', 'cnpj')">
                                        <label class="custom-control-label" for="customRadioInlineguarantor2">CNPJ</label>
                                    </div>                                        
                                </div>
                                <div class="form-group col-sm-6">
                                    <div *ngIf="_guarantorType=='cpf'" >
                                        <input type="text" [(ngModel)]="contractData.guarantorValue" name="cpf" class="form-control rounded-0" 
                                        pattern="^\d{3}\.\d{3}\.\d{3}\-\d{2}$"
                                        [class.is-invalid]="guarantorValue.invalid && guarantorValue.touched" #guarantorValue="ngModel" cpf [textMask]="{mask: MASKS.cpf.textMask}" required >
                                        <div class="md-errors-spacer" [hidden]="guarantorValue.valid || guarantorValue.untouched">
                                            <small  class="text-danger"*ngIf="guarantorValue.errors && guarantorValue.errors.required">
                                                CPF obrigatório 
                                            </small>
                                            <small  class="text-danger" *ngIf="guarantorValue.errors && guarantorValue.errors.pattern">
                                                CPF inválido (Ex.: 123.123.123-12)
                                            </small>
                                        </div>
                                    </div>
                                    <div *ngIf="_guarantorType=='cnpj'" >
                                        <input type="text" [(ngModel)]="contractData.guarantorValue" name="guarantorValue" class="form-control rounded-0" 
                                        pattern="^\d{2}\.\d{3}\.\d{3}\/\d{4}(-\d{2})$"
                                        [class.is-invalid]="guarantorValue.invalid && guarantorValue.touched" #guarantorValue="ngModel" cnpj [textMask]="{mask: MASKS.cnpj.textMask}" required >
                                        <div class="md-errors-spacer" [hidden]="guarantorValue.valid || guarantorValue.untouched">
                                            <small  class="text-danger"*ngIf="guarantorValue.errors && guarantorValue.errors.required">
                                                CNPJ obrigatório 
                                            </small>
                                            <small  class="text-danger" *ngIf="guarantorValue.errors && guarantorValue.errors.pattern">
                                                CNPJ inválido (Ex.: 12.123.123/0001-12)
                                            </small>
                                        </div>
                                    </div>
                                </div> 
                            </div> 
                            <div class="row">
                                <div class="form-group col-sm-6"> 
                                    <button type="submit" [ngClass]="{'active':_activeTab==='nav-garantidor'}" (click)="nextTab('nav-documento')" class="btn btn-info btn-block" >Anterior</button>
                                </div>
                                <div class="col-sm-6">      
                                    <button type="submit" [ngClass]="{'active':_activeTab==='nav-garantidor'}" (click)="nextTab('nav-contrato')" class="btn btn-rainti btn-block" >Próximo </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div [ngClass]="{'show active':_activeTab==='nav-documento'}" class="tab-pane fade" id="nav-documento" role="tabpanel" aria-labelledby="nav-documento-tab"> <br>
                        <form class="form" #documensForm="ngForm">
                            <div class="form-group"> 
                                <h6 class="card-title mb-4 mt-1">Seleccionar arquivos</h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <input type="file" ng2FileSelect [uploader]="uploader" multiple (onFileSelected)="onFileSelected($event)" />
                                    </div>
                                </div>
                                <br>
                                <div class="form-group" *ngIf="uploader.queue.length">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <h6 class="card-title mb-4 mt-1">Selecionados: {{ uploader?.queue?.length }}</h6>
                                        </div>                   
                                        <div class="col-sm-3">
                                            <button type="button" class="btn btn-info btn-s"
                                                    (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">
                                                <span class="glyphicon glyphicon-trash"></span> Remover
                                            </button>
                                        </div>                   
                                    </div>                   
                                </div>
                                <div class="form-group" *ngIf="uploader.queue.length">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <h6 class="card-title mb-4 mt-1">Nome</h6>
                                        </div>                   
                                        <div class="col-md-12">
                                            <table class="table">
                                                <tbody>
                                                    <tr *ngFor="let item of uploader.queue">
                                                        <td><strong>{{ item?.file?.name }}</strong></td>
                                                        <td *ngIf="uploader.isHTML5" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
                                                        <td class="text-center">
                                                            <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                                            <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                                            <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                                        </td>
                                                        <td nowrap>
                                                            <button type="button" class="btn btn-info btn-s"
                                                                    (click)="item.remove()">
                                                                <span class="glyphicon glyphicon-trash"></span> Remover
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div> 
                            <hr/>
                            <div class="form-group">
                                <div class="row">
                                    <div class="form-group col-sm-6"> 
                                        <button type="submit" [ngClass]="{'active':_activeTab==='nav-garantidor'}" (click)="nextTab('nav-garantidor')" class="btn btn-info btn-block" >Anterior</button>
                                    </div>
                                    <div class="col-sm-6">      
                                        <button type="submit" [ngClass]="{'active':_activeTab==='nav-documento'}" (click)="nextTab('nav-contrato')" class="btn btn-rainti btn-block"> Próximo </button>
                                    </div>
                                </div>
                            </div>
                        </form>                 
                    </div> 
                    <div [ngClass]="{'show active':_activeTab==='nav-contrato'}" class="tab-pane fade" id="nav-contrato" role="tabpanel" aria-labelledby="nav-contrato-tab" style="padding: 0px 20px 0px 20px; height: 650px; overflow-y: scroll;"><br>
                        <form class="form" #contractForm="ngForm">
                            <div class="row" >               
                                <div class="form-group col-6">
                                    <label for="uname1">Contrato</label>
                                    <input type="text" [(ngModel)]="contractData.contract" name="contract" class="form-control rounded-0" 
                                    pattern="^.{6,}$" 
                                    [class.is-invalid]="contract.invalid && contract.touched" #contract="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="contract.valid || contract.untouched">
                                        <small  class="text-danger"*ngIf="contract.errors && contract.errors.required">
                                            Contrato obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="contract.errors && contract.errors.pattern">
                                            Contrato deve ter minimo 6 posições alfanumericas
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Data do Contrato</label>
                                    <input type="date" [(ngModel)]="contractData.contractDate" name="contractDate" class="form-control rounded-0" 
                                    [class.is-invalid]="contractDate.invalid && contractDate.touched" #contractDate="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="contractDate.valid || contractDate.untouched">
                                        <small  class="text-danger"*ngIf="contractDate.errors && contractDate.errors.required">
                                            Data do Contrato inválida 
                                        </small>
                                    </div>  
                                </div>
                            </div>
                            <div class="row">               
                                <div class="form-group col-sm-4">
                                    <label for="uname1">Tipo de Gravame</label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_alieTypesLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #alienType="ngModel" [class.is-invalid]="alienTypesHasError && alienType.touched" 
                                    name="alienType" [(ngModel)]="contractData.alienType" (change)="validateAlienTypes(alienType.value)" (blur)="validateAlienTypes(alienType.value)">                            
                                        <option value="default">--Escolha um Gravame</option>
                                        <option *ngFor="let alien of _alienTypes">{{ alien.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!alienTypesHasError || alienType.untouched">Escolha um Tipo de Gravame</small>
                                </div>
                                <div class="col-sm-2">
                                    <label for="uname1">Nº restrição</label>
                                    <input type="text" [(ngModel)]="contractData.restrictionNumber" name="restrictionNumber" class="form-control rounded-0" 
                                    pattern="^\d{6,}$" 
                                    [class.is-invalid]="restrictionNumber.invalid && restrictionNumber.touched" #restrictionNumber="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="restrictionNumber.valid || restrictionNumber.untouched">
                                        <small  class="text-danger"*ngIf="restrictionNumber.errors && restrictionNumber.errors.required">
                                            Número da restrição inválida
                                        </small>
                                        <small  class="text-danger" *ngIf="restrictionNumber.errors && restrictionNumber.errors.pattern">
                                            Restrição deve ter minimo 6 posições numericas
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Valor financiamento</label>
                                        <input type="text" [(ngModel)]="contractData.totalDebitAmount" name="totalDebitAmount"  class="form-control rounded-0"  
                                        pattern="^[0-9]+(\.[0-9]{1,2})?$"
                                        [class.is-invalid]="totalDebitAmount.invalid && totalDebitAmount.touched" #totalDebitAmount="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="totalDebitAmount.valid || totalDebitAmount.untouched">
                                        <small  class="text-danger"*ngIf="totalDebitAmount.errors && totalDebitAmount.errors.required">
                                            Valor total da divida obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="restrictionNumber.errors && restrictionNumber.errors.pattern">
                                            Valor total da divida obrigatório
                                        </small>
                                    </div>
                                </div>   
                            </div> 
                            <div class="row">            
                                <div class="col-sm-2">
                                    <label for="uname1">Parcelas</label>
                                    <input type="text" [(ngModel)]="contractData.numberOfInstallments" name="numberOfInstallments" class="form-control rounded-0" 
                                        pattern="^[0-9]+(\.[0-9]{1,2})?$"
                                        [class.is-invalid]="numberOfInstallments.invalid && numberOfInstallments.touched" #numberOfInstallments="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="numberOfInstallments.valid || numberOfInstallments.untouched">
                                        <small  class="text-danger"*ngIf="numberOfInstallments.errors && numberOfInstallments.errors.required">
                                            Quantidade de parcelas obrigatória
                                        </small>
                                        <small  class="text-danger" *ngIf="numberOfInstallments.errors && numberOfInstallments.errors.pattern">
                                            Parcelas deve ter ate 2 posições numericas
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-4">
                                    <label for="uname1">Valor da Parcela</label>
                                    <input type="text" [(ngModel)]="contractData.installmentValue" name="installmentValue" class="form-control rounded-0" 
                                            pattern="^[0-9]+(\.[0-9]{1,2})?$"
                                        [class.is-invalid]="installmentValue.invalid && installmentValue.touched" #installmentValue="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="installmentValue.valid || installmentValue.untouched">
                                        <small  class="text-danger"*ngIf="installmentValue.errors && installmentValue.errors.required">
                                            Valor da parcelas obrigatória
                                        </small>
                                        <small  class="text-danger" *ngIf="installmentValue.errors && installmentValue.errors.pattern">
                                            Valor da parcelas obrigatória
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Valor do Registro de Contrato</label>
                                    <input type="text" [(ngModel)]="contractData.contractRegistrationAmount" name="contractRegistrationAmount"  class="form-control rounded-0" 
                                    pattern="^[0-9]+(\.[0-9]{1,2})?$"
                                    [class.is-invalid]="contractRegistrationAmount.invalid && contractRegistrationAmount.touched" #contractRegistrationAmount="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="contractRegistrationAmount.valid || contractRegistrationAmount.untouched">
                                        <small  class="text-danger"*ngIf="contractRegistrationAmount.errors && contractRegistrationAmount.errors.required">
                                            Valor do Registro de Contrato obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="contractRegistrationAmount.errors && contractRegistrationAmount.errors.pattern">
                                            Valor do Registro de Contrato obrigatório
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row"> 
                                <div class="col-sm-3">
                                    <label for="uname1">Taxa Juros de Multa</label>
                                    <input type="text" [(ngModel)]="contractData.interestRate" name="interestRate"  class="form-control rounded-0" 
                                    pattern="^[0-9]+(\.[0-9]{1,3})?$"
                                    [class.is-invalid]="interestRate.invalid && interestRate.touched" #interestRate="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="interestRate.valid || interestRate.untouched">
                                        <small  class="text-danger"*ngIf="interestRate.errors && interestRate.errors.required">
                                            Taxa de Juros de multa obrigatória
                                        </small>
                                        <small  class="text-danger" *ngIf="interestRate.errors && interestRate.errors.pattern">
                                            Juros multa deve ter um valor ate 3 decimais
                                        </small>
                                    </div>
                                </div>
                                <div class="form-group col-sm-3">
                                    <label for="uname1">Taxa Juros ao ano</label>
                                    <input type="text" [(ngModel)]="contractData.interestRatePerYear" name="interestRatePerYear"  class="form-control rounded-0" 
                                    pattern="^[0-9]+(\.[0-9]{1,3})?$"
                                    [class.is-invalid]="interestRatePerYear.invalid && interestRatePerYear.touched" #interestRatePerYear="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="interestRatePerYear.valid || interestRatePerYear.untouched">
                                        <small  class="text-danger"*ngIf="interestRatePerYear.errors && interestRatePerYear.errors.required">
                                            Taxa de Juros ao ano obrigatória
                                        </small>
                                        <small  class="text-danger" *ngIf="interestRatePerYear.errors && interestRatePerYear.errors.pattern">
                                            Juros ano deve ter um valor ate 3 decimais
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Valor do IOF</label>
                                    <input type="text" [(ngModel)]="contractData.iofAmount" name="iofAmount"  class="form-control rounded-0" 
                                    pattern="^[0-9]+(\.[0-9]{1,3})?$"
                                    [class.is-invalid]="iofAmount.invalid && iofAmount.touched" #iofAmount="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="iofAmount.valid || iofAmount.untouched">
                                        <small  class="text-danger"*ngIf="iofAmount.errors && iofAmount.errors.required">
                                            Valor do IOF obrigatório
                                        </small>
                                        <small  class="text-danger" *ngIf="iofAmount.errors && iofAmount.errors.pattern">
                                            IOF deve ter um valor ate 3 decimais
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-3">
                                    <label for="uname1">Taxa de mora ao dia</label>
                                    <input type="text" [(ngModel)]="contractData.dailyInterestRate" name="dailyInterestRate"  class="form-control rounded-0" 
                                    pattern="^[0-9]+(\.[0-9]{1,3})?$"
                                    [class.is-invalid]="dailyInterestRate.invalid && dailyInterestRate.touched" #dailyInterestRate="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="dailyInterestRate.valid || dailyInterestRate.untouched">
                                        <small  class="text-danger"*ngIf="dailyInterestRate.errors && dailyInterestRate.errors.required">
                                            Taxa de mora ao dia obrigatória
                                        </small>
                                        <small  class="text-danger" *ngIf="dailyInterestRate.errors && dailyInterestRate.errors.pattern">
                                            Mora deve ter um valor ate 3 decimais
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label for="uname1">Taxa Juros ao mês</label>
                                    <input type="text" [(ngModel)]="contractData.interestRatePerMonth" name="interestRatePerMonth"  class="form-control rounded-0" 
                                    pattern="^[0-9]+(\.[0-9]{1,3})?$"
                                    [class.is-invalid]="interestRatePerMonth.invalid && interestRatePerMonth.touched" #interestRatePerMonth="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="interestRatePerMonth.valid || interestRatePerMonth.untouched">
                                        <small  class="text-danger"*ngIf="interestRatePerMonth.errors && interestRatePerMonth.errors.required">
                                            Taxa de Juros ao mês obrigatória
                                        </small>
                                        <small  class="text-danger" *ngIf="interestRatePerMonth.errors && interestRatePerMonth.errors.pattern">
                                            Juros mês deve ter um valor ate 3 decimais
                                        </small>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label for="uname1">Indice</label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_indexesLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #index="ngModel" [class.is-invalid]="indexesesHasError && index.touched" 
                                    name="index" [(ngModel)]="contractData.index" (change)="validateIndexes(index.value)" (blur)="validateIndexes(index.value)">                            
                                        <option value="default">--Escolha um Indice</option>
                                        <option *ngFor="let index of _indexes">{{ index.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!indexesHasError || index.untouched">Escolha um Indice</small>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Data do primeiro pagamento</label>
                                    <input type="date" [(ngModel)]="contractData.paymentStartDate" name="paymentStartDate" class="form-control rounded-0" 
                                    [class.is-invalid]="paymentStartDate.invalid && paymentStartDate.touched" #paymentStartDate="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="paymentStartDate.valid || paymentStartDate.untouched">
                                        <small  class="text-danger"*ngIf="paymentStartDate.errors && paymentStartDate.errors.required">
                                            Data do primeiro pagamento inválida 
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Data último pagamento</label>
                                    <input type="date" [(ngModel)]="contractData.paymentEndDate" name="paymentEndDate" class="form-control rounded-0" 
                                    [class.is-invalid]="paymentEndDate.invalid && paymentEndDate.touched" #paymentEndDate="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="paymentEndDate.valid || paymentEndDate.untouched">
                                        <small  class="text-danger"*ngIf="paymentEndDate.errors && paymentEndDate.errors.required">
                                            Data último pagamento inválida 
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Data da liberação</label>
                                    <input type="date" [(ngModel)]="contractData.releaseDate" name="releaseDate" class="form-control rounded-0" 
                                    [class.is-invalid]="releaseDate.invalid && releaseDate.touched" #releaseDate="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="releaseDate.valid || releaseDate.untouched">
                                        <small  class="text-danger"*ngIf="releaseDate.errors && releaseDate.errors.required">
                                            Data da liberação inválida 
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label for="uname1">UF da liberação</label><br>
                                    <div class="col border text-center btn-outline-secondary" *ngIf="_statesLoad">
                                        <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                    </div>
                                    <select class="custom-select" #releaseState="ngModel" [class.is-invalid]="releaseStatesHasError && releaseState.touched" 
                                    name="releaseState" [(ngModel)]="contractData.releaseState" (change)="validateReleaseStates(releaseState.value)" (blur)="validateReleaseStates(releaseState.value)">                            
                                        <option value="default">--Escolha uma UF</option>
                                        <option *ngFor="let state of _releaseStates">{{ state.description }}</option>
                                    </select>
                                    <small class="text-danger" [class.d-none]="!releaseStatesHasError || releaseState.untouched">Escolha uma UF</small>
                                </div>
                                <div class="form-group col-sm-3">
                                    <label for="uname1">Cidade da liberação</label>
                                    <input type="text" [(ngModel)]="contractData.releaseCity" name="releaseCity" class="form-control rounded-0" 
                                    pattern="^.{4,}$" 
                                    [class.is-invalid]="releaseCity.invalid && releaseCity.touched" #releaseCity="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="releaseCity.valid || releaseCity.untouched">
                                        <small  class="text-danger"*ngIf="releaseCity.errors && releaseCity.errors.required">
                                            Cidade inválida
                                        </small>
                                        <small  class="text-danger" *ngIf="releaseCity.errors && releaseCity.errors.pattern">
                                            Cidade inválida minimo 4 posições alfanumericas
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label for="uname1">Número grupo do consórcio</label>
                                    <input type="text" [(ngModel)]="contractData.consortiumGroupNumber" name="consortiumGroupNumber" class="form-control rounded-0" 
                                    pattern="^.{4,}$" 
                                    [class.is-invalid]="consortiumGroupNumber.invalid && consortiumGroupNumber.touched" #consortiumGroupNumber="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="consortiumGroupNumber.valid || consortiumGroupNumber.untouched">
                                        <small  class="text-danger"*ngIf="consortiumGroupNumber.errors && consortiumGroupNumber.errors.required">
                                            Número do grupo inválido
                                        </small>
                                        <small  class="text-danger" *ngIf="consortiumGroupNumber.errors && consortiumGroupNumber.errors.pattern">
                                            Número do grupo minimo 4 posições alfanumericas
                                        </small>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="uname1">Número cota do consórcio</label>
                                    <input type="text" [(ngModel)]="contractData.consortiumQuotaNumber" name="consortiumQuotaNumber" class="form-control rounded-0" 
                                    pattern="^.{4,}$" 
                                    [class.is-invalid]="consortiumQuotaNumber.invalid && consortiumQuotaNumber.touched" #consortiumQuotaNumber="ngModel" required >
                                    <div class="md-errors-spacer" [hidden]="consortiumQuotaNumber.valid || consortiumQuotaNumber.untouched">
                                        <small  class="text-danger"*ngIf="consortiumQuotaNumber.errors && consortiumQuotaNumber.errors.required">
                                            Número da cota do consórcio inválida
                                        </small>
                                        <small  class="text-danger" *ngIf="consortiumQuotaNumber.errors && consortiumQuotaNumber.errors.pattern">
                                            Número da cota minimo 4 posições alfanumericas
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6"> 
                                    <button type="submit" [ngClass]="{'active':_activeTab==='nav-contrato'}" (click)="nextTab('nav-documento')" class="btn btn-info btn-block" >Anterior</button>                                        </div>
                                <div class="col-sm-6">      
                                    <button type="button" data-toggle="modal" class="btn btn-rainti btn-block " (click)="createSummary()" data-target="#staticBackdrop">Confirmar</button>
                                </div>
                            </div>
                            <div class="modal fade" id="staticBackdrop" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                <div class="col border text-center btn-outline-secondary" *ngIf="_summaryLoad">
                                    <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                </div>
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                        <h5 class="modal-title" id="staticBackdropLabel">Resumo do Contrato</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                        </button>
                                        </div>
                                        <div class="modal-body list-group">
                                            <a class="list-group-item-action flex-column align-items-start active">
                                                <p>Credor:</p>
                                                <div class="d-flex w-100 justify-content-between">
                                                    <ul>
                                                        <li *ngFor="let credor of _credor">
                                                            {{ credor.description }} {{ credor.value }}
                                                        </li>
                                                    </ul>
                                                </div>
                                                <p>Veículo:</p>
                                                <div class="d-flex w-100 justify-content-between">
                                                    <ul>
                                                        <li *ngFor="let veiculo of _veiculo">
                                                            {{ veiculo.description }} {{ veiculo.value }}
                                                        </li>
                                                    </ul>
                                                </div>
                                                <p>Devedor:</p>
                                                <div class="d-flex w-100 justify-content-between">
                                                    <ul>
                                                        <li *ngFor="let devedor of _devedor">
                                                            {{ devedor.description }} {{ devedor.value }}
                                                        </li>
                                                    </ul>
                                                </div>
                                                <p>Garantidor:</p>
                                                <div class="d-flex w-100 justify-content-between">
                                                    <ul>
                                                        <li *ngFor="let garantidor of _garantidor">
                                                            {{ garantidor.description }} {{ garantidor.value }}
                                                        </li>
                                                    </ul>
                                                </div>
                                                <p>Contrato:</p>
                                                <div class="d-flex w-100 justify-content-between">
                                                    <ul>
                                                        <li *ngFor="let contrato of _contrato">
                                                            {{ contrato.description }} {{ contrato.value }}
                                                        </li>
                                                    </ul>
                                                </div>
                                                <p>Documentos:</p>
                                                <div class="d-flex w-100 justify-content-between">
                                                    <ul>
                                                        <li *ngFor="let item of uploader.queue">
                                                            {{ item?.file?.name }}
                                                        </li>
                                                    </ul>
                                                </div>
                                            </a>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal" data-dismiss="modal">Voltar</button>
                                            <button type="button" class="btn btn-primary" (click)="uploadAll()" data-dismiss="modal" >Finalizar</button>
                                            <div class="col border text-center btn-outline-secondary" *ngIf="_contractLoad">
                                                <span class="spinner-border spinner-border" role="status" aria-hidden="true"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div> 
        </div>
    </div> 

	
	